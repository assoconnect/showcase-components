"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_react=_interopRequireDefault(require("react")),_InputBasic=_interopRequireDefault(require("./InputBasic")),_=require("../"),_styledComponents=_interopRequireDefault(require("styled-components")),_formik=require("formik"),_colors=_interopRequireDefault(require("../../styles/colors")),_translations=require("../../utils/translations");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _taggedTemplateLiteral(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}/* Blog  */var InputButtonWrapperBlog=_styledComponents["default"].div(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  max-width: 100%;\n  position: relative;\n  width: auto;\n  flex-direction: column;\n  > div {\n    text-align: center;\n  }\n"]))),InputButtonStyledBlog=(0,_styledComponents["default"])(_InputBasic["default"])(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  padding-right: 0;\n  width: 100%;\n  border: 0;\n  border-radius: 0;\n  border-bottom: solid 1px #fff;\n  background: 0;\n  .input {\n    width: 100%;\n    color: white;\n  }\n  .outline & {\n    border: 1px solid ",";\n  }\n  .input::placeholder {\n    color: white !important;\n  }\n  padding: 0.588rem;\n"])),_colors["default"].yellow),InputButtonSendBlog=(0,_styledComponents["default"])(_.Button)(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n  vertical-align: middle;\n  margin: 1.765rem auto auto auto;\n  transition: background-color 0.3s;\n  outline: none;\n  text-transform: uppercase;\n  border-radius: 21.5px;\n  border: none;\n  color: #316bf2;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 21px;\n  .button {\n    height: 43px;\n    width: 154px;\n    background-color: #ffffff;\n    padding: 0.647rem 1.1rem;\n    transition: 0.3s;\n    color: #316bf2;\n    border: 1px solid ",";\n\n    .outline & {\n      border: 1px solid ",";\n    }\n    &:hover {\n      background-color: transparent;\n      border-color: ",";\n      color: ",";\n    }\n  }\n"])),_colors["default"].white,_colors["default"].white,_colors["default"].white,_colors["default"].white),ErrorMessageStyledBlog=_styledComponents["default"].div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n  font-family: ",";\n  font-weight: ",";\n  color: #f4674a;\n  margin-bottom: 5px;\n"])),_.UI.fonts.family.roboto,_.UI.fonts.weight.bold),FormStyled=(0,_styledComponents["default"])(_formik.Form)(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    text-align: center;\n  }\n"])),_.UI.breakpoints.mobile),InputButtonContainer=_styledComponents["default"].div(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["\n  display: inline-block;\n  width: 100%;\n"]))),InputButtonWrapper=_styledComponents["default"].div(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n  display: inline-flex;\n  align-content: stretch;\n  width: 550px;\n  max-width: 100%;\n  position: relative;\n\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    width: auto;\n    flex-direction: column;\n  }\n"])),_.UI.breakpoints.mobile),InputButtonStyled=(0,_styledComponents["default"])(_InputBasic["default"])(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n  padding-right: 0;\n  flex-grow: 3;\n  .input {\n    width: 100%;\n  }\n  .outline & {\n    border: 1px solid ",";\n  }\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    padding: 0.588rem;\n  }\n  /* Desktop mode */\n  @media screen and (min-width: ",") {\n    border-radius: 2.941rem 0 0 2.941rem;\n  }\n"])),_colors["default"].yellow,_.UI.breakpoints.mobile,_.UI.breakpoints.mobile),InputButtonButton=(0,_styledComponents["default"])(_.Button)(_templateObject9||(_templateObject9=_taggedTemplateLiteral(["\n  vertical-align: middle;\n\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    margin-top: 1.765rem;\n  }\n  .button {\n    padding: 0.647rem 1.1rem;\n    transition: 0.3s;\n    .outline & {\n      border: 1px solid ",";\n    }\n    &:hover {\n      background-color: #f9ac29;\n      border-color: #f9ac29;\n    }\n    /* Desktop mode */\n    @media screen and (min-width: ",") {\n      border-radius: 0 2.941rem 2.941rem 0;\n      margin: 0;\n    }\n  }\n"])),_.UI.breakpoints.mobile,_colors["default"].yellow,_.UI.breakpoints.mobile),ErrorMessageStyled=_styledComponents["default"].div(_templateObject10||(_templateObject10=_taggedTemplateLiteral(["\n  font-family: ",";\n  font-weight: ",";\n  color: #f4674a;\n  margin-bottom: 5px;\n"])),_.UI.fonts.family.roboto,_.UI.fonts.weight.bold),getHubspotBody=function(a){var b=a.email,c=a.referrer,d=a.page,e=a.pageUri,f=a.pageName;return JSON.stringify({fields:[{name:"email",value:b},{name:"referrer",value:c},{name:"page",value:d}],context:{pageUri:e,pageName:f},legalConsentOptions:{consent:{consentToProcess:!0,text:(0,_translations.formatMessage)("inputbutton_consent")}}})},InputButton=function(a){var b=a.className,c=a.translations,d=a.href,e=void 0===d?"https://app.assoconnect.com/sign-up":d,f=a.hubspotId,g=a.newsletter,h=function(a){setTimeout(function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({"email-passed":a}),window.location.href=window.location.search.length||-1!==e.indexOf("?")?window.location.search.length?"".concat(e).concat(window.location.search,"&email=").concat(a):"".concat(e,"&email=").concat(a):"".concat(e,"?email=").concat(a)},400)},i=function(a){f?fetch("https://api.hsforms.com/submissions/v3/integration/submit/3038993/".concat(f),{headers:{"Content-Type":"application/json"},mode:"cors",method:"POST",body:getHubspotBody({email:a,referrer:document.referrer,page:document.title,pageUri:window.location.href,pageName:document.title})})["catch"](function(a){console.error(a)})["finally"](function(){h(a)}):h(a)};return/*#__PURE__*/_react["default"].createElement(_formik.Formik,{initialValues:{email:""},validate:function validate(a){return a.email?null===a.email.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?{email:(0,_translations.formatMessage)("inputbutton_validation_email",c)}:void 0:{email:(0,_translations.formatMessage)("inputbutton_validation_required",c)}},onSubmit:function onSubmit(a){i(a.email)}},function(){return/*#__PURE__*/_react["default"].createElement(FormStyled,{className:b},g?/*#__PURE__*/_react["default"].createElement(InputButtonContainer,null,/*#__PURE__*/_react["default"].createElement(_formik.ErrorMessage,{name:"email",component:ErrorMessageStyledBlog}),/*#__PURE__*/_react["default"].createElement(InputButtonWrapperBlog,{className:"button animation--start-hover"},/*#__PURE__*/_react["default"].createElement(InputButtonStyledBlog,{name:"email",type:"email",placeholder:(0,_translations.formatMessage)("inputbutton_placeholder_blog",c)}),/*#__PURE__*/_react["default"].createElement(InputButtonSendBlog,{type:"submit",theme:"yellow",size:"big",animationOff:!0},(0,_translations.formatMessage)("inputbuttonNewsletter_text",c)))):/*#__PURE__*/_react["default"].createElement(InputButtonContainer,null,/*#__PURE__*/_react["default"].createElement(_formik.ErrorMessage,{name:"email",component:ErrorMessageStyled}),/*#__PURE__*/_react["default"].createElement(InputButtonWrapper,{className:"button animation--start-hover"},/*#__PURE__*/_react["default"].createElement(InputButtonStyled,{name:"email",type:"email",placeholder:(0,_translations.formatMessage)("inputbutton_placeholder",c),icon:"common/icon/unicolor/paperplane"}),/*#__PURE__*/_react["default"].createElement(InputButtonButton,{type:"submit",theme:"yellow",size:"big",animationOff:!0},(0,_translations.formatMessage)("inputbutton_text",c)))))})},_default=InputButton;exports["default"]=_default;