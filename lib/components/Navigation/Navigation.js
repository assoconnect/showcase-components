"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_react=_interopRequireWildcard(require("react")),_styledComponents=_interopRequireWildcard(require("styled-components")),_=require(".."),_NavigationChild=_interopRequireDefault(require("./NavigationChild")),_NavigationButtons=_interopRequireDefault(require("./NavigationButtons")),_NavigationItem=_interopRequireDefault(require("./NavigationItem")),_NavigationToggle=_interopRequireDefault(require("./NavigationToggle")),_translations=require("../../utils/translations");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return _getRequireWildcardCache=function(){return a},a}function _interopRequireWildcard(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var b=_getRequireWildcardCache();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c["default"]=a,b&&b.set(a,c),c}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){return b&&("object"===_typeof(b)||"function"==typeof b)?b:_assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _taggedTemplateLiteral(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}/**
 * Helpers css
 */var navigationWhiteCss=(0,_styledComponents.css)(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  background-color: ",";\n\n  > .navigation__arrow .svg--color-primary,\n  .navigation__logo .svg--color-primary {\n    fill: ",";\n  }\n  .navigation__buttons .button--theme-line-white {\n    color: ",";\n    border-color: ",";\n  }\n  .navigation__inner {\n    opacity: 1;\n    color: ",";\n\n    &:hover {\n      color: ",";\n\n      > .navigation__arrow .svg--color-primary {\n        fill: ",";\n      }\n    }\n    .navigation__arrow {\n      opacity: 1;\n\n      .svg--color-primary {\n        fill: ",";\n      }\n    }\n  }\n"])),_.UI.colors.white,_.UI.colors.blue,_.UI.colors.middleGrey,_.UI.colors.middleGrey,_.UI.colors.middleGrey,_.UI.colors.blue,_.UI.colors.blue,_.UI.colors.middleGrey),navigationFixedCss=(0,_styledComponents.css)(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  @media screen and (min-width: ",") {\n    position: fixed;\n    box-shadow: 0 1px 14px 0 rgba(0, 0, 0, 0.19);\n    ",";\n  }\n"])),_.UI.breakpoints.mobile,navigationWhiteCss),navigationInnerFixedCss=(0,_styledComponents.css)(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n  @media screen and (min-width: ",") {\n    && {\n      height: 60px;\n      margin-bottom: 0;\n      align-items: center;\n    }\n  }\n"])),_.UI.breakpoints.mobile),NavigationMargin=_styledComponents["default"].div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n  @media screen and (max-width: ",") {\n    height: 59px;\n  }\n  @media screen and (min-width: ",") {\n    height: 100px;\n  }\n"])),_.UI.breakpoints.mobile,_.UI.breakpoints.mobile),NavigationStyled=_styledComponents["default"].nav(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n  transition: background-color ease-out 0.2s;\n  background-color: ",";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 20;\n  padding-left: 2.5rem;\n\n  /* White mode */\n  ",";\n  /* Scroll Fixed (only desktop mode) */\n  ",";\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    padding-left: 0;\n    transition: all ease-out 0.2s;\n    ",";\n    position: fixed;\n    bottom: 0;\n    ",";\n  }\n"])),_.UI.colors.blue,function(a){var b=a.headerBackgroundColor;return"white"===b&&navigationWhiteCss},function(a){var b=a.navigationIsFixed;return b&&navigationFixedCss},_.UI.breakpoints.mobile,function(a){var b=a.navigationMobileIsOpened;return!b&&"left:-100%"},navigationWhiteCss),NavigationInner=(0,_styledComponents["default"])(function(a){return/*#__PURE__*/_react["default"].createElement(_.Flex,a)})(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["\n  /* Specific style for all features */\n  .navigation__child--all-features {\n    color: ",";\n    font-weight: ",";\n\n    /* Desktop mode */\n    @media screen and (min-width: ",") {\n      border-top: 1px solid ",";\n      text-align: center;\n      padding-top: 18px;\n      margin-top: 0;\n    }\n  }\n\n  /* Desktop mode */\n  @media screen and (min-width: ",") {\n    && {\n      height: 85px;\n      margin-bottom: 15px;\n    }\n  }\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    height: calc(100% - 60px);\n    margin-top: 60px;\n    overflow-y: scroll;\n  }\n  /* Scroll fixed (only desktop mode) */\n  ",";\n"])),_.UI.colors.darkGrey,_.UI.fonts.weight.bold,_.UI.breakpoints.mobile,_.UI.colors.extraLightGrey,_.UI.breakpoints.mobile,_.UI.breakpoints.mobile,function(a){var b=a.navigationIsFixed;return b&&navigationInnerFixedCss}),NavigationLogoWrapper=(0,_styledComponents["default"])(function(a){return/*#__PURE__*/_react["default"].createElement(_.Box,a)})(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    display: none;\n  }\n"])),_.UI.breakpoints.mobile),NavigationLogo=(0,_styledComponents["default"])(function(a){return/*#__PURE__*/_react["default"].createElement(_.Svg,a)})(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n  display: block;\n  text-align: center;\n  ","\n"])),function(a){var b=a.navigationIsFixed;return b&&"margin: auto;"}),NavigationChildTitle=_styledComponents["default"].div(_templateObject9||(_templateObject9=_taggedTemplateLiteral(["\n  margin: 18px 0;\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n  font-size: 14px;\n\n  /* Mobile mode */\n  @media screen and (max-width: ",") {\n    width: 270px;\n    margin: 25px auto 0;\n  }\n"])),_.UI.fonts.family.roboto,_.UI.fonts.weight.bold,_.UI.colors.darkGrey,_.UI.breakpoints.mobile),NavigationItemWrapper=(0,_styledComponents["default"])(function(a){return/*#__PURE__*/_react["default"].createElement(_.Box,a)})(_templateObject10||(_templateObject10=_taggedTemplateLiteral(["\n  white-space: nowrap;\n"]))),Navigation=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"state",{navigationChildIconLoad:!1,navigationIsFixed:!1,navigationMobileIsOpened:!1}),_defineProperty(_assertThisInitialized(a),"handleNavigationItemsMouseOver",function(){var b=a.state.navigationChildIconLoad;b||a.setState({navigationChildIconLoad:!0})}),_defineProperty(_assertThisInitialized(a),"handleNavigationToggleBurger",function(){var b=a.state.navigationMobileIsOpened;a.setState({navigationMobileIsOpened:!b})}),_defineProperty(_assertThisInitialized(a),"getNavigationLogoSrc",function(b){var c=a.props.translations;return b?"common/logo/".concat((0,_translations.formatMessage)("site_name",c),"-simple"):"common/logo/".concat((0,_translations.formatMessage)("site_name",c))}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"componentDidMount",value:/**
   * Component did mount
   */function componentDidMount(){var a=this;window.onscroll=function(){var b,c=a.state,d=c.navigationMobileIsOpened,e=c.navigationIsFixed;// Breakpoint
b=window.innerWidth>parseInt(_.UI.breakpoints.mobile.slice(0,-2))?100:0,window.pageYOffset>b?!e&&a.setState({navigationIsFixed:!0}):e&&a.setState({navigationIsFixed:!1}),document.body.style.overflowY=d?"hidden":"scroll"}}/**
   * Functions
   */ // Update state after hover the navigation
},{key:"render",value:/**
   * Render
   */function render(){var a=this.props,b=a.headerBackgroundColor,c=a.homePath,d=a.items,e=a.navigationButtons,f=a.translations,g=this.state,h=g.navigationChildIconLoad,i=g.navigationIsFixed,j=g.navigationMobileIsOpened;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(NavigationMargin,null),/*#__PURE__*/_react["default"].createElement(_NavigationToggle["default"],{navigationIsFixed:i,navigationToggleBurgerFunction:this.handleNavigationToggleBurger,navigationMobileIsOpened:j,translations:f}),/*#__PURE__*/_react["default"].createElement(NavigationStyled,{headerBackgroundColor:b,navigationIsFixed:i,navigationMobileIsOpened:j},/*#__PURE__*/_react["default"].createElement(NavigationInner,{navigationIsFixed:i,className:"navigation__inner",alignItems:"flex-end"},/*#__PURE__*/_react["default"].createElement(NavigationLogoWrapper,{px:"0",width:"125px"},/*#__PURE__*/_react["default"].createElement(_.Link,{href:c,isStyled:!1},/*#__PURE__*/_react["default"].createElement(NavigationLogo,{className:"navigation__logo",navigationIsFixed:i,color:"white",width:"auto",height:i?"38px":"65px",src:this.getNavigationLogoSrc(i)}))),!!d&&/*#__PURE__*/_react["default"].createElement(NavigationItemWrapper,{width:"auto",px:[0,"30px"],mb:["40px","-4px"],onMouseOver:this.handleNavigationItemsMouseOver,onFocus:this.handleNavigationItemsMouseOver},d.map(function(a,b){return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,{key:b},a.boxes?/*#__PURE__*/_react["default"].createElement(_NavigationItem["default"],{width:a.width,navigationMobileIsOpened:j,text:a.text,href:a.href,nofollow:a.nofollow},a.boxes.map(function(a,b){return/*#__PURE__*/_react["default"].createElement(_.Box,{key:b,width:"auto",px:[0,"20px"]},/*#__PURE__*/_react["default"].createElement(NavigationChildTitle,null,a.title),a.children.map(function(a,b){return/*#__PURE__*/_react["default"].createElement(_NavigationChild["default"],{arrow:a.arrow,href:a.href,icon:a.icon&&a.icon,key:b,loadIcon:h,text:a.text,nofollow:a.nofollow})}))}),a.footer&&/*#__PURE__*/_react["default"].createElement(_.Box,{width:1,px:0},/*#__PURE__*/_react["default"].createElement(_NavigationChild["default"],{text:a.footer.text,arrow:!0,className:"navigation__child--all-features",href:a.footer.href,loadIcon:h,nofollow:a.footer.nofollow}))):/*#__PURE__*/_react["default"].createElement(_NavigationItem["default"],{width:a.width,navigationMobileIsOpened:j,text:a.text,href:a.href,nofollow:a.nofollow}))})),/*#__PURE__*/_react["default"].createElement(_.Box,{width:"auto",mt:["auto",0],ml:"auto",px:[0,"30px"]},/*#__PURE__*/_react["default"].createElement(_NavigationButtons["default"],{navigationButtons:e})))))}}]),b}(_react.Component),_default=Navigation;exports["default"]=_default;